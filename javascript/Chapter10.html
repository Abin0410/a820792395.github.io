<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM | 写前端的图图</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/image/login.jpg">
    <meta name="description" content="Hello, welcome to 写前端的图图 blog">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.0cc6c909.js" as="script"><link rel="preload" href="/assets/js/2.a8e9d1f6.js" as="script"><link rel="preload" href="/assets/js/14.7a78b5f1.js" as="script"><link rel="prefetch" href="/assets/js/10.80b50171.js"><link rel="prefetch" href="/assets/js/11.2c508fe0.js"><link rel="prefetch" href="/assets/js/12.4d6f0888.js"><link rel="prefetch" href="/assets/js/13.6f580c42.js"><link rel="prefetch" href="/assets/js/15.514e8ea5.js"><link rel="prefetch" href="/assets/js/16.84f8a07b.js"><link rel="prefetch" href="/assets/js/17.ed7d9ff2.js"><link rel="prefetch" href="/assets/js/18.8a4c1f46.js"><link rel="prefetch" href="/assets/js/19.f8556811.js"><link rel="prefetch" href="/assets/js/20.60bd8661.js"><link rel="prefetch" href="/assets/js/21.a45ed15d.js"><link rel="prefetch" href="/assets/js/22.09d7cfce.js"><link rel="prefetch" href="/assets/js/23.e8951751.js"><link rel="prefetch" href="/assets/js/24.99102ccf.js"><link rel="prefetch" href="/assets/js/25.8d58833c.js"><link rel="prefetch" href="/assets/js/26.87984b4f.js"><link rel="prefetch" href="/assets/js/27.86d691d0.js"><link rel="prefetch" href="/assets/js/28.2ac2ae4c.js"><link rel="prefetch" href="/assets/js/29.0b41515a.js"><link rel="prefetch" href="/assets/js/3.e667873c.js"><link rel="prefetch" href="/assets/js/30.df369f02.js"><link rel="prefetch" href="/assets/js/31.49e81605.js"><link rel="prefetch" href="/assets/js/32.494d49c3.js"><link rel="prefetch" href="/assets/js/33.79936fb9.js"><link rel="prefetch" href="/assets/js/34.f31944cf.js"><link rel="prefetch" href="/assets/js/35.f03128a8.js"><link rel="prefetch" href="/assets/js/36.6bc043a2.js"><link rel="prefetch" href="/assets/js/37.2a60adff.js"><link rel="prefetch" href="/assets/js/38.aff8700c.js"><link rel="prefetch" href="/assets/js/39.e2678f74.js"><link rel="prefetch" href="/assets/js/4.8bb38d9d.js"><link rel="prefetch" href="/assets/js/40.67f1d6e8.js"><link rel="prefetch" href="/assets/js/41.9cbac28f.js"><link rel="prefetch" href="/assets/js/42.6b497b94.js"><link rel="prefetch" href="/assets/js/5.6fd351bc.js"><link rel="prefetch" href="/assets/js/6.753ccb79.js"><link rel="prefetch" href="/assets/js/7.1625cc39.js"><link rel="prefetch" href="/assets/js/8.131034f0.js"><link rel="prefetch" href="/assets/js/9.2ea18007.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">写前端的图图</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/javascript/" class="nav-link router-link-active">
  JavaScript
</a></div><div class="nav-item"><a href="/es6/" class="nav-link">
  ECMAScript6
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/javascript/" class="nav-link router-link-active">
  JavaScript
</a></div><div class="nav-item"><a href="/es6/" class="nav-link">
  ECMAScript6
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/Chapter3.html" class="sidebar-link">基础</a></li><li><a href="/javascript/Chapter4.html" class="sidebar-link">变量、作用域和内存问题</a></li><li><a href="/javascript/Chapter5.html" class="sidebar-link">引用类型</a></li><li><a href="/javascript/Chapter6.html" class="sidebar-link">面向对象</a></li><li><a href="/javascript/Chapter7.html" class="sidebar-link">函数表达式</a></li><li><a href="/javascript/Chapter8.html" class="sidebar-link">BOM</a></li><li><a href="/javascript/Chapter10.html" aria-current="page" class="active sidebar-link">DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/Chapter10.html#节点层次" class="sidebar-link">节点层次</a></li></ul></li><li><a href="/javascript/Chapter11.html" class="sidebar-link">DOM扩展</a></li><li><a href="/javascript/Chapter12.html" class="sidebar-link">DOM2和DOM3</a></li><li><a href="/javascript/Chapter13.html" class="sidebar-link">事件</a></li><li><a href="/javascript/Chapter14.html" class="sidebar-link">表单脚本</a></li><li><a href="/javascript/Chapter15.html" class="sidebar-link">使用Canvas绘图</a></li><li><a href="/javascript/Chapter16.html" class="sidebar-link">HTML5脚本编程</a></li><li><a href="/javascript/Chapter20.html" class="sidebar-link">JSON</a></li><li><a href="/javascript/Chapter21.html" class="sidebar-link">Ajax与Comet</a></li><li><a href="/javascript/Chapter22.html" class="sidebar-link">高级技巧</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h1> <h2 id="节点层次"><a href="#节点层次" class="header-anchor">#</a> 节点层次</h2> <p>DOM可以将任何HTML或XML文档描绘成一个由多层节点构成的结构。节点分为几种不同的类型，每种类型分别表示文档中不同的信息及（或）标记。每个节点都拥有各自的特点、数据和方法，另外也与其他节点存在某种关系。节点之间的关系构成了层次，而所有页面标记则表现为一个以特定节点为根节点的树形结构。以下面的HTML为例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Sample Page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>可以将这个简单的HTML文档表示为一个层次结构，如下图所示。(本图参考JavaScript高级程序3)文档节点是每个文档的根节点。在这个例子中，文档节点只有一个子节点，即<code>&lt;html&gt;</code>元素，我们称之为文档元素。文档元素是文档的最外层元素，文档中的其他所有元素都包含在文档元素中。每个文档只能有一个文档元素。在HTML页面中，文档元素始终都是<code>&lt;html&gt;</code>元素。在XML中，没有预定义的元素，因此任何元素都可能成为文档元素。</p> <p><img src="/assets/img/10.1.72eb90ca.png" alt="An image"></p> <p>每一段标记都可以通过树中的一个节点来表示：HTML元素通过元素节点表示，特性通过特性节点表示，文档类型通过文档类型节点表示，而注释则通过注释节点表示。总共有12中节点类型，这些类型都继承自一个基类型。</p> <h3 id="操作节点"><a href="#操作节点" class="header-anchor">#</a> 操作节点</h3> <p><strong>appendChild()</strong> 用于向childNodes列表的末尾添加一个节点。如果传入到appendChild()中的节点已经是文档的一部分了，那结果就是将该节点从原来的位置转移到新位置。如果在调用appendChild()时传入了父节点的第一个子节点，那么该节点就会成为父节点的最后一个子节点。</p> <p><strong>insertBefore()</strong> 用于把节点放在某个特定的位置上。这个方法接受两个参数：要插入的节点和作为参照的节点。插入节点后，被插入的节点会变成参照的节点的前一个同胞节点，同时被方法返回。</p> <p><strong>replaceChild()</strong> 方法接受的两个参数是：要插入的节点和要替换的节点。要替换的节点将由这个方法返回并从文档树中移除，同时由要插入的节点占据其位置。</p> <p><strong>removeChild()</strong> 方法，接受一个参数，既要移除的节点。</p> <p><strong>cloneNode()</strong> 方法，接受一个布尔值参数，表示是否执行深复制，为true执行深复制，为
flase执行浅复制。</p> <h3 id="document类型"><a href="#document类型" class="header-anchor">#</a> Document类型</h3> <p>JavaScript通过Document类型表示文档。在浏览器中，document对象是HTMLDocument（继承自Document类型）的一个实例，表示整个HTML页面。而且，document对象是window对象的一个属性，因此可以将其作为全局对象来访问。</p> <p>Document类型可以表示HTML页面或者其他基于XML的文档。不过，最常见的应用还是作为HTMLDocument实例的document对象。通过这个文档对象，不仅可以取得页面有关的信息，而且还能操作页面的外观及底层结构。</p> <p>虽然DOM标准规定Document节点的子节点可以是Document、Element、ProcessingInstruction或Comment，但还有两个内置的访问其子节点的快捷方式。第一个就是documentElement属性，该属性始终指向HTML页面中的html元素。另一个就是通过childNodes列表访问文档元素。但通过documentElement属性则能更快捷、更直接地访问元素。以下这个简单的页面为例。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这个页面在经过浏览器解析后，其文档中只包含一个子节点，即<code>&lt;html&gt;</code>元素。可以通过documentElement或childNodes列表来访问这个元素，如下所示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html <span class="token operator">===</span> document<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html <span class="token operator">===</span> document<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>这个例子说明，documentElement、firstChild和childNodes[0]的值相同，都指向<code>&lt;html&gt;</code>元素。作为HTMLDocument的实例，document对象还有一个body属性，直接指向<code>&lt;body&gt;</code>元素。因为开发人员经常使用这个元素，所以document.body在JavaScript代码中出现的频率非常高，其用法如下。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得对 body 的引用</span>
</code></pre></div><p>所有浏览器都支持document.documentElement和document.body属性。Document另一个可能的子节点是DocumentType。通常将&lt;!DOCTYPE&gt;标签看成一个与文档其他部分不同的实体，可以通过doctype属性（在浏览器中时document.doctype）来访问它的信息。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> doctype <span class="token operator">=</span> document<span class="token punctuation">.</span>doctype
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doctype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得对&lt;!DOCTYPE&gt;的引用</span>
</code></pre></div><h3 id="文档信息"><a href="#文档信息" class="header-anchor">#</a> 文档信息</h3> <p>作为HTMLDocument的一个实例，document对象还有一些标准的Document对象所没有的属性。这些属性提供了document对象所表现的网页的一些信息。其中第一个属性就是 <code>&lt;title&gt;</code> ，包含着<code>&lt;title&gt;</code>元素中的文本--显示在浏览器窗口的标题栏或标签页上。通过这个属性可以取得当前页面的标题，也可以修改当前页面的标题并反映在浏览器的标题栏中。修改title属性的值会改变<code>&lt;title&gt;</code>元素。来看下面的例子。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 取得文档标题</span>
  <span class="token keyword">var</span> originalTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>title<span class="token punctuation">;</span>

  <span class="token comment">// 设置文档标题</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;New page title&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>接下来介绍的3个属性都与对网页的请求有关，它们是 <strong>URL、domain和referrer</strong>。URL属性中包含页面完整的URL（即地址栏中显示的URL），domain属性中只包含页面的域名，而referrer属性中则保存着链接到当前页面的那个页面的URL。在没有来源页面的情况下，referrer属性中可能会包含空字符串。所有这些信息都存在于请求的HTTP头部，只不过通过这些属性让我们能够在JavaScript
中访问它们而已，如下面的例子所示。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 取得完整的URL</span>
  <span class="token keyword">var</span> url <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">;</span>
  <span class="token comment">// 取得域名</span>
  <span class="token keyword">var</span> domain <span class="token operator">=</span> document<span class="token punctuation">.</span>domain<span class="token punctuation">;</span>
  <span class="token comment">// 取得来源页面的URL</span>
  <span class="token keyword">var</span> referrer <span class="token operator">=</span> document<span class="token punctuation">.</span>referrer<span class="token punctuation">;</span>
</code></pre></div><p>URL与domain属性是相互关联的。例如，如果document.URL等于http://www.wrox.com/WileyCDA/，那么document.domain就等于www.wrox.com。</p> <p>在这3个属性中，只有domain是可以设置的。但由于安全方面的限制，也并非可以给domain设置任何值。
如果URL中包含一个子域名，例如p2p.wrox.com那么就只能将domain设置为&quot;wrox.com&quot;（URL中包含
&quot;www&quot;，如www.wrox.com时，也是如此）。不能将这个属性设置为URL中不包含的域，如下面的例子所示。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 假设页面来自p2p.wrox.com域  </span>
  document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&quot;wrox.com&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 成功</span>
  document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&quot;nczonline.net&quot;</span> <span class="token comment">// 出错！</span>
</code></pre></div><p>当页面中包含来自其他子域的框架或内嵌框架时，能够设置document.domain就非常方便了。由于跨域安全限制，来自不同子域的页面无法通过JavaScript通信。而通过将每个页面的document.domain设置为相同的值，这些页面就可以互相访问对方包含的JavaScript对象了。例如，假设有一个页面加载自www.wrox.com，其中包含一个内嵌框架，框架内的页面加载自p2p.wrox.com。由于document.domain字符串不一样，内外两个页面之间无法相互访问对象的JavaScript对象。但如果将这两个页面的document.domain值都设置为&quot;wrox.com&quot;，它们之间就可以通信了。</p> <p>浏览器对domain属性还有一个限制，即如果域名一开始是&quot;松散的&quot;（loose），那么不能将它再设置为&quot;紧绷的&quot;（tight）。换句话说，在将document.domain设置为&quot;wrox.com&quot;之后，就不能再将其设置回&quot;p2p.wrox.com&quot;，否则将会导致错误，如下面的例子所示。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 假设页面来自于p2p.wrox.com域</span>
  document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&quot;wrox.com&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// 松散的（成功）</span>
  document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&quot;p2p.wrox.com&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 紧绷的（出错！）</span>
</code></pre></div><p>所有浏览器中都存在这个限制。</p> <h3 id="查找元素"><a href="#查找元素" class="header-anchor">#</a> 查找元素</h3> <p>说到最常见的DOM应用，恐怕就要数取得特定的某个或某组元素的引用，然后再执行一些操作了。取得元素的操作可以使用document对象的几个方法来完成。其中，Document类型为此提供了两个方法： <strong>getElementById()和getElementByTagName()</strong> 。</p> <p>第一个方法， <strong>getElementById()</strong> ，接收一个参数：要取得的元素的ID。如果找到相应的元素则返回该元素，如果不存在带有相应ID的元素，则返回null。注意，这里的ID必须与页面中元素的id特性严格匹配，包括大小写。以下面的元素为例。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;myDiv&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得&lt;div&gt;元素的引用</span>
</code></pre></div><p>另一个常用于取得元素引用的方法是 <strong>getElementByTagName()</strong>。这个方法接受一个参数，即要取得元素的标签名，而返回的是包含零或多个元素的NodeList。在HTML文档中，这个方法会返回一个HTMLCollection对象，作为一个&quot;动态&quot;集合，该对象与NodeList非常类似。例如，下列代码会取得页面中所有的<code>&lt;img&gt;</code>元素，并返回一个HTMLCollection。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> images <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>images<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HTMLCollection(5)</span>
</code></pre></div><p>这两行代码会将一个HTMLCollection对象保存在images变量中。可以使用括号语法或 **item()**方法来访问HTMLCollection对象中的项。而这个对象中元素的数量则可以通过其length属性取得，如下面所示。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> images <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>images<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>images<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出第一个图像元素的src特性</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>images<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出第一个图像元素的src特性</span>
</code></pre></div><p>HTMLCollection对象还有一个方法，叫做 <strong>namedItem()</strong>，使用这个方法可以通过元素的name特性取得
集合中的项。例如，假设上面提到的页面中包含如下<code>&lt;img&gt;</code>元素：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;myImage&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// 那么就可以通过如下方式从images变量中取得这个 &lt;img&gt; 元素</span>

<span class="token keyword">var</span> myImage <span class="token operator">=</span> images<span class="token punctuation">.</span><span class="token function">namedItem</span><span class="token punctuation">(</span><span class="token string">&quot;myImage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在提供按引索访问项的基础上，HTMLCollection还支持按名称访问项，这就为我们取得实际想要的元
素提供了便利。而且，对命名的项也可以使用方括号语法来访问，如下所示：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> myImage <span class="token operator">=</span> images<span class="token punctuation">[</span><span class="token string">&quot;myImage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>对HTMLCollection而言，我们可以向方括号中传入数值或者字符串形式的索引值。在后台，对数值索
引就会调用 <strong>item()</strong>，而对字符串索引就会调用<strong>namedItem()</strong>。</p> <p>要想取得文档中的所有元素。可以向getElementsByTagName()中传入&quot;<em>&quot;。在JavaScript及CSS中，
星号(</em>)通常表示&quot;全部&quot;。下面看一个例子。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> allElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allElements<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HTMLCollection(15)</span>
</code></pre></div><p>仅此一行代码返回的HTMLCollection中，就包含了整个页面中的所有元素----按照它们出现的先后顺
序。换句话说，第一项是<code>&lt;html&gt;</code>元素，第二项是<code>&lt;head&gt;</code>元素，以此类推。</p> <p>第三个方法， <strong>getElementByName()</strong> 。这个方法返回带有给定name特性的所有元素。</p> <h3 id="element类型"><a href="#element类型" class="header-anchor">#</a> Element类型</h3> <p>访问标签名可以使用 <strong>tagName</strong> 。看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;myDiv&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

  <span class="token comment">// 可以像下面这样取得这个元素及其标签名</span>
  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'myDiv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// DIV</span>
</code></pre></div><p>需要注意的是实际输出的是&quot;DIV&quot;而非&quot;div&quot;。在HTML中，标签名始终都以全部大写表示。</p> <h3 id="html元素"><a href="#html元素" class="header-anchor">#</a> HTML元素</h3> <p>所有HTML元素都由HTMLElement类型表示，不是直接通过这个类型，也是通过它的子类型来表示。
HTMLElement类型直接继承自Element并添加一些属性。添加这些属性分别对应于每个HTML元素
中都存在的下列标准特性。</p> <ul><li>id，元素在文档中的唯一标识符。</li> <li>title，有关元素的附加说明信息，一般通过工具提示条显示出来。</li> <li>lang，元素内容的语言代码，很少使用。</li> <li>dir，语言的方向，值为&quot;ltr&quot;（left-to-right，从左到右）或&quot;rtl&quot;（right-to-left，从右到左），也很少使用</li> <li>className，即为元素指定的CSS类。</li></ul> <p>以上的值都可以用来取得或者修改。看下面的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// myDiv</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Body text</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>lang<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// en</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ltr</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bd</span>

div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;someOtherId&quot;</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;ft&quot;</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;Some other text&quot;</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>lang <span class="token operator">=</span> <span class="token string">&quot;fr&quot;</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>dir <span class="token operator">=</span> <span class="token string">&quot;rtl&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="取得特性-元素的属性"><a href="#取得特性-元素的属性" class="header-anchor">#</a> 取得特性（元素的属性）</h4> <p>操作特性的DOM方法主要有三个。分别是：<strong>getAttribute()、setAttribute()、removeAttribute()</strong>。</p> <p>getAttribute()：获取元素的属性，也可以用来获取自定义的属性。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// myDiv</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bd</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Body text</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;lang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// en</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;dir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ltr</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data-index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><p>有两类特殊的属性虽然有对应的属性名，但属性的值与通过getAttribute()返回的值并不相同。第一类是style，第二类是onclick。这里不过多讲解。可以自己在控制台看看。</p> <h4 id="设置特性"><a href="#设置特性" class="header-anchor">#</a> 设置特性</h4> <p><strong>setAttribute()</strong> ：设置元素属性，这个方法接受两个参数：要设置的特性名和值。
也可以操作自定义的属性。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;someOtherId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Some other text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;lang&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;dir&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rtl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>最后一个方法是 <strong>removeAttribute()</strong> ，这个方法用于彻底删除元素的特性。调用这个
方法不仅会清除特性的值，而且也会从元素中完全删除特性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="创建元素"><a href="#创建元素" class="header-anchor">#</a> 创建元素</h4> <p>可以使用document.createElement()方法可以创建新元素。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>还可以为该元素添加属性。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;myNewDiv&quot;</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>由于还没有添加到文档树中，可以使用 <strong>appendChild()、insertBefore()或replaceChild()</strong> 方法。</p> <div class="language-js extra-class"><pre class="language-js"><code>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="元素的子节点"><a href="#元素的子节点" class="header-anchor">#</a> 元素的子节点</h4> <p>元素可以有任意数目的子节点和后代节点，因为元素可以是其他元素的子节点。元素的 <strong>childNodes</strong> 属性中包含了它的所有子节点。所以我们可以通过 <strong>childNodes</strong> 来访问该元素的所有子节点。这些子节点有可能是元素、文本节点、注释或处理命令。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token operator">&lt;</span>ul id<span class="token operator">=</span><span class="token string">&quot;myList&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item <span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item <span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>

  <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token comment">// NodeList(7) [text, li, text, li, text, li, text]</span>
</code></pre></div><p><code>&lt;ul&gt;</code>元素都会有7个元素，包括3个<code>&lt;li&gt;</code> 元素和4个文本节点（表示li元素之间的空白符）。
如果把空白符删除了就会打印出三个<code>&lt;li&gt;</code>，像下面这样。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果想通过某个特定的标签名取得子节点或后代节点可以使用 <strong>getElementByTagName()</strong> 方法。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> items <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HTMLCollection(3) [li, li, li]</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/javascript/Chapter8.html" class="prev">
        BOM
      </a></span> <span class="next"><a href="/javascript/Chapter11.html">
        DOM扩展
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0cc6c909.js" defer></script><script src="/assets/js/2.a8e9d1f6.js" defer></script><script src="/assets/js/14.7a78b5f1.js" defer></script>
  </body>
</html>
